(this.webpackJsonptaxi_web=this.webpackJsonptaxi_web||[]).push([[0],{1412:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),c=n.n(o);n(266),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(153),i=n.n(l),u=n(247),s=n(20),m=n(21),d=n(23),b=n(22),p=n(24),f=(n(268),n(30)),h=n(41),E=n.n(h),j=n(36),O=n(1434),v=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.myRooms.map(function(e){return r.a.createElement(j.Card,null,r.a.createElement(j.CardHeader,{title:"\ucd9c\ubc1c\uc9c0: "+e.dep+" \ubaa9\uc801\uc9c0: "+e.dest,subtitle:"\uc791\uc131\uc790: "+e.writer+" \ud604\uc7ac \uc778\uc6d0: "+e.joinedUsers.length+"/"+e.maxNum,actAsExpander:!0,showExpandableButton:!0}),r.a.createElement(j.CardActions,null,r.a.createElement(O.a,{onClick:function(){this.props.onClick("quit",e.id)}.bind(this)},"\ubc29 \ub098\uac00\uae30")),r.a.createElement(j.CardText,{expandable:!0},"\ucd94\uac00\uc815\ubcf4"))}.bind(this));return r.a.createElement(E.a,null,e)}}]),t}(a.Component),y=Object(f.b)((function(e){return{myRooms:e.myRooms}}),(function(e){return{onClick:function(t,n){e({type:t,roomId:n})}}}))(v),x=function(){return r.a.createElement("div",null,r.a.createElement(y,null))},g=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=r.a.createElement(j.Card,null,r.a.createElement(j.CardHeader,{title:"\ucd9c\ubc1c\uc9c0: "+this.props.dep+" \ubaa9\uc801\uc9c0: "+this.props.dest,subtitle:" \ud604\uc7ac \uc778\uc6d0: TBD/"+this.props.maxNum,actAsExpander:!0,showExpandableButton:!0}),r.a.createElement(j.CardActions,null,r.a.createElement(O.a,{onClick:function(){var e="/api/roomlist/"+this.props.id;fetch(e,{method:"DELETE"}),window.location.reload()}.bind(this)},"\ubc29 \uc0ad\uc81c")),r.a.createElement(j.CardText,{expandable:!0},this.props.desc));return r.a.createElement(E.a,null,e)}}]),t}(a.Component),w=Object(f.b)((function(e){return{rooms:e.rooms,myRooms:e.myRooms,userId:e.userId}}),(function(e){return{onClick:function(t,n){e({type:t,roomId:n})}}}))(g),C=(n(367),n(95)),k=n.n(C),N=n(152),I=n.n(N),R=n(31),T=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(R.b,{exact:!0,to:"create"},r.a.createElement(E.a,null,r.a.createElement(k.a,{style:U},r.a.createElement(I.a,null))))}}]),t}(a.Component),_=Object(f.b)(null,(function(e){return{onClick:function(t){e({type:t})}}}))(T),U={margin:0,top:"auto",right:20,bottom:80,left:"auto",position:"fixed"},D=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(w,{id:this.props.id,dep:this.props.dep,dest:this.props.dest,maxNum:this.props.maxNum,desc:this.props.desc}),r.a.createElement(_,null))}}]),t}(r.a.Component),L=n(99),A=n(1436),S=n(1437),B=n(1438),X=n(250),q=n.n(X),W=n(251),G=n.n(W),H=n(252),J=n.n(H),M=Object(A.a)({root:{width:"100%",position:"fixed",bottom:"0"}});function V(){var e=M(),t=r.a.useState(0),n=Object(L.a)(t,2),a=n[0],o=n[1];return r.a.createElement(S.a,{value:a,onChange:function(e,t){o(t)},showLabels:!0,className:e.root},r.a.createElement(B.a,{component:R.b,to:"/",label:"\ubc29 \ubaa9\ub85d",value:"RoomTab",icon:r.a.createElement(q.a,null),className:e.content}),r.a.createElement(B.a,{component:R.b,to:"/mytab",label:"\ub0b4 \ubc29",value:"MyTab",icon:r.a.createElement(G.a,null),className:e.content}),r.a.createElement(B.a,{component:R.b,to:"/settings",label:"\uc124\uc815",value:"settings",icon:r.a.createElement(J.a,null),className:e.content}))}var F=n(49),$=n(67),z=n(1442),K=n(1443),P=n(102),Q=n(1444),Y=n(253),Z=n.n(Y),ee=n(1439),te=n(1440),ne={display:"block",width:"100%",height:"5vw"};function ae(){return r.a.createElement(ee.a,{variant:"outlined",style:ne},r.a.createElement(te.a,null))}var re=n(1441),oe=Object(A.a)((function(e){var t;return{root:{flexGrow:1,top:"0",width:"100%"},title:(t={flexGrow:1},Object($.a)(t,e.breakpoints.up("sm"),{}),Object($.a)(t,"textDecoration","none"),Object($.a)(t,"color","white"),t),menuButton:{marginRight:e.spacing(2)}}}));var ce,le=Object(f.b)(null,(function(e){return{onClick:function(t){e({type:t})}}}))((function(){var e=oe(),t=r.a.useState(null),n=Object(L.a)(t,2),a=(n[0],n[1]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,null),r.a.createElement("div",{className:e.root},r.a.createElement(z.a,{position:"relative"},r.a.createElement(K.a,null,r.a.createElement(P.a,{variant:"h6",className:e.title,noWrap:!0,component:R.b,to:"/"},"\uce74\ud0dd\uc804"),r.a.createElement(Q.a,{"aria-label":"account of current user","aria-controls":"menu-appbar",onClick:function(e){a(e.currentTarget)},color:"inherit",component:R.b,to:"/",edge:"end"},r.a.createElement(Z.a,null))))))})),ie=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"\ub0b4 \uc815\ubcf4 \ud0ed")}}]),t}(a.Component),ue=n(68),se=(n(448),n(1394).default),me=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t,n,a;return r.a.createElement(E.a,null,r.a.createElement(ue.b,{floatingLabelText:"\ucd9c\ubc1c\uc9c0",onChange:function(t,n){e=n}}),r.a.createElement("br",null),r.a.createElement(ue.b,{floatingLabelText:"\ubaa9\uc801\uc9c0",onChange:function(e,n){t=n}}),r.a.createElement("br",null),r.a.createElement(ue.b,{floatingLabelText:"\ucd94\uac00\uc815\ubcf4",onChange:function(e,t){a=t}}),r.a.createElement("br",null),r.a.createElement(ue.b,{floatingLabelText:"\ucd5c\ub300\uc778\uc6d0",onChange:function(e,t){n=Number(t)}}),r.a.createElement("br",null),r.a.createElement(R.b,{exact:!0,to:"/"},r.a.createElement(ue.a,{label:"\ubc29 \uac1c\uc124",onClick:function(){void 0!==e&&void 0!==t&&void 0!==n?(void 0===a&&(a="\ucd94\uac00\uc815\ubcf4 \uc5c6\uc74c"),console.log("maxNum:",n),se.post("/api/roomlist",{dep:e,dest:t,maxNum:n,desc:a,writer:"3000"})):window.alert("\ub2e4\uc2dc \uc785\ub825\ud558\uc138\uc694!")}.bind(this)})))}}]),t}(a.Component),de=Object(f.b)(null,(function(e){return{onClick:function(t,n,a,r,o,c){e({type:t,writer:n,dep:a,dest:r,desc:o,maxNum:c})}}}))(me),be=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"\uc124\uc815 \ud0ed")}}]),t}(a.Component),pe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={user:"",roomlist:""},n.callApi=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/roomlist");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.callApi().then((function(t){return e.setState({roomlist:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(le,null),r.a.createElement(ae,null),r.a.createElement(F.a,{exact:!0,path:"/"},this.state.roomlist?this.state.roomlist.map((function(e){return r.a.createElement(D,{id:e.roomId,dep:e.dep,dest:e.dest,maxNum:e.maxNum,desc:e.desc})})):""),r.a.createElement(F.a,{exact:!0,path:"/create"},r.a.createElement(de,null)),r.a.createElement(F.a,{exact:!0,path:"/mytab"},r.a.createElement(x,null)),r.a.createElement(F.a,{exact:!0,path:"/profile"},r.a.createElement(ie,null)),r.a.createElement(F.a,{exact:!0,path:"/settings"},r.a.createElement(be,null)),r.a.createElement(ae,null),r.a.createElement(V,null))}}]),t}(a.Component),fe=Object(f.b)((function(e){return{mode:e.mode}}))(pe),he=n(101),Ee=n(69),je=n(96),Oe={userId:"1000",mode:"home",rooms:[{id:1,writer:"\ud0dc\ud615",dep:"\ub300\uc804",dest:"\uc6b0\ud55c",desc:"\ucd94\uac00\uc815\ubcf4 \uc5c6\uc74c",joinedUsers:["3000","2000"],maxNum:4}],maxId:1,notices:[{id:1,title:"\uc911\uc694\uacf5\uc9c0",desc:"\uce74\ud0dd\uc804 v0.1 \ub7f0\uce6d"}]};ce=Oe.rooms.filter((function(e){return e.userId===Oe.userId&&(console.log("yes!"),!0)}));var ve=Object(Ee.a)({},Oe,{myRooms:ce});var ye=Object(je.b)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,n=arguments.length>1?arguments[1]:void 0;if("create"===n.type){var a=t.rooms.length,r=a+1,o={id:r,writer:n.writer,dep:n.dep,dest:n.dest,desc:n.desc,joinedUsers:[t.userId],maxNum:n.maxNum};console.log(o);var c=[].concat(Object(he.a)(t.rooms),[o]);return s=[].concat(Object(he.a)(t.myRooms),[o]),e=Object(Ee.a)({},t,{mode:"home",rooms:c,maxId:r,myRooms:s})}if("join"===n.type){var l=t.userId;if((o=t.rooms[n.roomId-1]).joinedUsers.length===o.maxNum)return alert("\uc815\uc6d0\uc774 \ub2e4 \ucc3c\uc2b5\ub2c8\ub2e4."),t;for(var i=0;i<o.joinedUsers.length;i++){var u=o.joinedUsers[i];if(u===l)return window.alert("\uc774\ubbf8 \ucc38\uc5ec\ud55c \ubc29\uc785\ub2c8\ub2e4"),t}return o.joinedUsers.push(l),console.log("joined",o,l,o.joinedUsers),s=[].concat(Object(he.a)(t.myRooms),[o]),e=Object(Ee.a)({},t,{myRooms:s})}if("delete"===n.type){c=t.rooms.filter((function(e){return e.id!==n.roomId}));var s=t.myRooms.filter((function(e){return e.id!==n.roomId}));return e=Object(Ee.a)({},t,{rooms:c,myRooms:s})}if("quit"===n.type){for(l=t.userId,s=[],i=0;i<t.myRooms.length;i++){var m=t.myRooms[i],d=m.id;d!==n.roomId&&s.push(m)}var b=(o=t.rooms[n.roomId-1]).joinedUsers.filter((function(e){return e!==l}));return o.joinedUsers=b,console.log("quit",o,l,o.joinedUsers),(e=Object(Ee.a)({},t,{myRooms:s})).rooms.num=e.rooms.num-1,e}return t}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(r.a.createElement(f.a,{store:ye},r.a.createElement(R.a,null,r.a.createElement(fe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},261:function(e,t,n){e.exports=n(1412)},266:function(e,t,n){},268:function(e,t,n){},367:function(e,t,n){}},[[261,1,2]]]);
//# sourceMappingURL=main.0a13caba.chunk.js.map